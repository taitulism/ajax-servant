<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Ajax Servant - Dev</title>
	</head>
	<body>
		
		
	<script src="ajax-servant.js"></script>
	<script src="main.js"></script>
	<script>
	//-------------------------------
		runTests();

		var servant = new AjaxServant('GET', '/api', {ctx:{b:2}});

		console.log(servant)

		servant
			.on('start', {ctx:1}, function (response, servant, ajaxEvent) {
				console.log(1, this)
				console.log('first ("before send")')
			})

			.on('load', function (response, servant, ajaxEvent) {
				console.log(2, this)
				console.log('load - got a response')
			})

			.on('abort', function (response, servant, ajaxEvent) {
				console.log('aborted')
			})

			.on('error', function (response, servant, ajaxEvent) {
				console.log('error')
			})

			.on('end', function (response, servant, ajaxEvent) {
				console.log(3, this)
				console.log('last')
			})

			.send();




	//-------------------------------
	</script>
	</body>
</html>