<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>Ajax Servant - Dev</title>
	</head>
	<body>



		
	<script>
		log = console.log;
	</script>
		
	<script src="ajax-servant.js"></script>
	<script src="main.js"></script>
	<script>
	//-------------------------------
		// runTests();
		const opts = {
			// ctx:{b:2},
			// qryStr: {def: 'DEF'},
			// breakCache: 'qwe',
			headers: {
				// 'Content-type': 'application/x-www-form-urlencoded;charset=UTF-8',
				'Content-type': 'application/json;charset=UTF-8',
				// qwe:1234
			}


		}
		var servant = new AjaxServant('POST', '/api', opts);


		servant
			.on('load', {a:1}, function (response, servant, ajaxEvent) {
				// log('load - got a response')
				log('Response:', response.body)
			})

			.send({
				// params: ['a','b','c'],
				// qryStr: {a:1, b:2},
				// headers: {asd:4567},
				body: {a:1,b:'2'}
			})












		// console.log(servant)

			// .on('start', {ctx:1}, function (response, servant, ajaxEvent) {
			// 	console.log('first ("before send")')
			// })


			// .on('abort', function (response, servant, ajaxEvent) {
			// 	console.log('aborted')
			// })

			// .on('error', function (response, servant, ajaxEvent) {
			// 	console.log('error')
			// })

			// .on('end', function (response, servant, ajaxEvent) {
			// 	console.log(3, this)
			// 	console.log('last')
			// })





	//-------------------------------
	</script>
	</body>
</html>